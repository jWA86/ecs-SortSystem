{"version":3,"sources":["../src/shared/extender.ts"],"names":[],"mappings":";;AAAA,+BAAiC;AAEjC,sCAAyC;AAOzC;IAAA;IA+BA,CAAC;IA7BiB,eAAM,GAApB,UAAqB,GAAW,EAAE,QAAa,EAAE,qBAA4C;QAEzF,IAAI,UAAU,GAAgB,qBAAqB,CAAC,GAAG,CAAC,CAAC;QAEzD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAa,UAAU,CAAC,CAAC;YAC9D,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC/C,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9B,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;gBAChC,QAAQ,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC;YACtC,CAAC;YACD,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;gBAC9B,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;gBAC1D,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAC/C,CAAC;YACD,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAEc,wBAAe,GAA9B,UAA+B,IAAc;QACzC,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAC,IAAY;gBACzB,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC;QACP,CAAC;QACD,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IACL,eAAC;AAAD,CA/BA,AA+BC,IAAA;AA/BY,4BAAQ","file":"../../../../../../../../dist/shared/extender.js","sourcesContent":["import * as lodash from \"lodash\";\n\nimport PathTool = require(\"./path-tool\");\n\nimport {\n    Extendable,\n    KarmaTypescriptConfig\n} from \"../api\";\n\nexport class Extender {\n\n    public static extend(key: string, tsconfig: any, karmaTypescriptConfig: KarmaTypescriptConfig): void {\n\n        let extendable = <Extendable> karmaTypescriptConfig[key];\n\n        if (Array.isArray(extendable)) {\n            let list = lodash.union(tsconfig[key], <string[]> extendable);\n            tsconfig[key] = this.fixWindowsPaths(list);\n        }\n\n        if (lodash.isObject(extendable)) {\n            if (extendable.mode === \"replace\") {\n                tsconfig[key] = extendable.values;\n            }\n            if (extendable.mode === \"merge\") {\n                let list = lodash.union(tsconfig[key], extendable.values);\n                tsconfig[key] = this.fixWindowsPaths(list);\n            }\n            return;\n        }\n    }\n\n    private static fixWindowsPaths(list: string[]): string[] {\n        if (list && list.length) {\n            return list.map((item: string) => {\n                return PathTool.fixWindowsPath(item);\n            });\n        }\n        return [];\n    }\n}\n"]}